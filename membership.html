<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Membership Form</title>
  <link rel="icon" type="image/png" href="images/favicon.png" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background-color: #FFD700;
      color: #001F3F;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #001F3F;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }
    input, select, textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 6px;
      font-size: 16px;
      background: #fff;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #FFC107;
      outline: none;
    }
    .btn {
      background: #001F3F;
      color: white;
      padding: 14px 24px;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
      transition: background 0.3s, transform 0.2s;
    }
    .btn:hover {
      background: #FFC107;
      color: #001F3F;
      transform: translateY(-2px);
    }
    .required {
      color: #d32f2f;
    }
    .error-message {
      color: #d32f2f;
      font-size: 0.85rem;
      margin-top: 5px;
    }
    .privacy-notice {
      margin-top: 25px;
      padding: 20px;
      border: 2px solid #FFD700;
      border-radius: 8px;
      background: #fff;
      font-size: 0.95rem;
      color: #001F3F;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .consent-label {
      font-weight: normal;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      line-height: 1.5;
    }
    .consent-label input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-top: 2px;
      accent-color: #001F3F;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .consent-label input[type="checkbox"]:hover {
      transform: scale(1.05);
    }
    .privacy-notice a {
      color: #001F3F;
      text-decoration: none;
      border-bottom: 2px solid #FFD700;
      font-weight: 600;
      transition: all 0.2s ease;
    }
    .privacy-notice a:hover {
      color: #FFC107;
      border-bottom-color: #001F3F;
    }
    @media (max-width: 768px) {
      .privacy-notice {
        padding: 15px;
        font-size: 0.9rem;
      }
      .consent-label {
        gap: 10px;
      }
      .consent-label input[type="checkbox"] {
        width: 18px;
        height: 18px;
      }
    }
    .floating-whatsapp {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 60px;
      height: 60px;
      background: #25D366;
      border-radius: 50%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }

    .floating-whatsapp img {
      width: 65%;
      height: 65%;
      border-radius: 50%;
      padding: 8px;
      transition: all 0.3s ease;
    }

    .floating-whatsapp:hover {
      transform: scale(1.1) translateY(-3px);
      box-shadow: 0 6px 16px rgba(37, 211, 102, 0.25);
    }

    @media (max-width: 768px) {
      .floating-whatsapp {
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Join BNUTS</h1>
    <p style="text-align: center; margin-bottom: 20px; color: #555; font-style: italic;">
      Become part of the Birifor National Union of Tertiary Students
    </p>

    <form id="membershipForm" action="https://formspree.io/f/mzzjokzw" method="POST">
      
      <!-- Honeypot -->
      <div style="display:none;">
        <label for="hp">Leave this field empty:</label>
        <input type="text" name="_gotcha" id="hp" />
      </div>

      <div class="form-group">
        <label for="fullname">Full Name <span class="required">*</span></label>
        <input type="text" id="fullname" name="fullname" required placeholder="e.g. Kwame Birifor">
      </div>

      <div class="form-group">
        <label for="index">Student Index Number <span class="required">*</span></label>
        <input type="text" id="index" name="index" required placeholder="e.g. UGCS/00123/23">
        <div id="index-error" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="institution">Tertiary Institution <span class="required">*</span></label>
        <select id="institution" name="institution" required>
          <option value="">-- Select Your Institution --</option>
          <option value="University of Ghana">University of Ghana</option>
          <option value="Kwame Nkrumah University of Science and Technology">KNUST</option>
          <option value="University of Cape Coast">University of Cape Coast</option>
          <option value="University for Development Studies">UDS</option>
          <option value="University of Energy and Natural Resources, Sunyani">UENR</option>
          <option value="University of Education, Winneba">UEW</option>
          <option value="University of Professional Studies, Accra">UPSA</option>
          <option value="University of Mines and Technology">UMAT</option>
          <option value="Sunyani Technical university">STU</option>
          <option value="Catholic University of ghana, Fiapre">Catholic University of Ghana</option>
          <option value="College of Health, Yamfo">CoHY</option>
          <option value="Dr. Hilla Limann Techical University">DHLTU</option>
          <option value="Other">Other (Specify Below)</option>
        </select>
      </div>

      <div class="form-group">
        <label for="other_institution">If "Other", Specify Institution</label>
        <input type="text" id="other_institution" name="other_institution" placeholder="e.g. Accra Technical University">
      </div>

      <div class="form-group">
        <label for="program">Program of Study</label>
        <input type="text" id="program" name="program" placeholder="e.g. BSc Computer Science">
      </div>

      <div class="form-group">
        <label for="level">Level of Study <span class="required">*</span></label>
        <select id="level" name="level" required>
          <option value="">-- Select Level --</option>
          <option value="100">100 Level</option>
          <option value="200">200 Level</option>
          <option value="300">300 Level</option>
          <option value="400">400 Level</option>
          <option value="500">500 Level</option>
          <option value="600">600 Level</option>
          <option value="Masters">Masters</option>
          <option value="PhD">PhD</option>
        </select>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number <span class="required">*</span></label>
        <input type="tel" id="phone" name="phone" required placeholder="+233 24 123 4567">
        <div id="phone-error" class="error-message"></div>
      </div>

      <div class="form-group">
        <label for="email">Email Address <span class="required">*</span></label>
        <input type="email" id="email" name="email" required placeholder="yourname@example.com">
        <div id="email-error" class="error-message"></div>
     </div>

             <!-- ðŸ”” Duplicate submission notice -->
      <div class="form-group" style="font-size: 0.9rem; color: #555; margin-top: -10px; margin-bottom: 15px;">
       <em>Each email can only be used once. Duplicate submissions will not be processed.</em>
      </div>

      <div class="form-group">
        <label for="hometown">Hometown (Birifor Community)</label>
        <input type="text" id="hometown" name="hometown" placeholder="e.g. Kalba, Nyoli, Sanuor">
      </div>

      <div class="form-group">
        <label for="how_heard">How did you hear about BNUTS?</label>
        <select id="how_heard" name="how_heard">
          <option value="">-- Select --</option>
          <option value="Friend">Friend</option>
          <option value="Social Media">Social Media</option>
          <option value="Campus Event">Campus Event</option>
          <option value="Alumni">Alumni</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label for="interests">Areas of Interest (Optional)</label>
        <textarea id="interests" name="interests" rows="3" placeholder="e.g. Cultural events, leadership..."></textarea>
      </div>

      <!-- Consent -->
      <div class="form-group privacy-notice">
        <label class="consent-label" for="consent-checkbox">
          <input type="checkbox" id="consent-checkbox" name="consent" required aria-required="true">
          <span>I agree to the <a href="privacy.html" target="_blank">Privacy Policy</a> and consent to BNUTS collecting my data per Article 5 of the <a href="constitution.html" target="_blank">BNUTS Constitution</a>.</span>
        </label>
      </div>

      <button type="submit" class="btn">Submit Membership Application</button>
    </form>
  </div>

  <!-- Cookie Notice -->
  <div id="cookie-notice" style="display:none; position:fixed; bottom:0; left:0; right:0; background:#001F3F; color:white; padding:15px; text-align:center; font-size:0.95rem; z-index:9999;">
    <p>We use cookies to improve your experience. By continuing, you agree to our <a href="privacy.html" style="color:#FFD700;">Privacy Policy</a>.</p>
    <button id="cookie-accept" style="margin-top:10px; background:#FFD700; color:#001F3F; border:none; padding:6px 16px; border-radius:4px; font-weight:bold;">Accept</button>
  </div>

  <script>
    // Validation patterns
    const patterns = {
      // Ghana phone: +233 or 0, then 9 digits (e.g., +233241234567 or 0241234567)
      phone: /^(?:\+233|0)\d{9}$/,
      
      // Index: Letters/numbers, slashes, hyphens (e.g., UGCS/00123/23, KNUST-1234-2023)
      index: /^[A-Za-z0-9]{2,}(?:[\/\-][A-Za-z0-9]+)*$/,
      
      // Email (strict)
      email: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
    };

    // Real-time validation
    document.getElementById('phone').addEventListener('input', function() {
      validateField('phone', 'Please enter a valid Ghanaian phone number (e.g., +233241234567 or 0241234567)');
    });

    document.getElementById('index').addEventListener('input', function() {
      validateField('index', 'Please enter a valid index number (e.g., UGCS/00123/23)');
    });

    document.getElementById('email').addEventListener('input', function() {
      validateField('email', 'Please enter a valid email address');
    });

    function validateField(fieldId, errorMsg) {
      const input = document.getElementById(fieldId);
      const errorDiv = document.getElementById(`${fieldId}-error`);
      const value = input.value.trim();

      if (value && !patterns[fieldId].test(value)) {
        input.style.borderColor = '#d32f2f';
        errorDiv.textContent = errorMsg;
      } else {
        input.style.borderColor = '#ddd';
        errorDiv.textContent = '';
      }
    }

    // Form submission validation
    document.getElementById('membershipForm').addEventListener('submit', function(e) {
      let isValid = true;

      // Validate all required fields
      ['phone', 'index', 'email'].forEach(field => {
        const input = document.getElementById(field);
        const errorDiv = document.getElementById(`${field}-error`);
        const value = input.value.trim();

        if (!value) {
          isValid = false;
          input.style.borderColor = '#d32f2f';
          errorDiv.textContent = `This field is required`;
        } else if (!patterns[field].test(value)) {
          isValid = false;
          input.style.borderColor = '#d32f2f';
          errorDiv.textContent = field === 'phone' ? 'Invalid Ghanaian phone number' :
                                   field === 'index' ? 'Invalid index format' :
                                   'Invalid email address';
        } else {
          input.style.borderColor = '#ddd';
          errorDiv.textContent = '';
        }
      });

      if (!isValid) {
        e.preventDefault();
        // Focus first invalid field
        const firstInvalid = ['phone', 'index', 'email'].find(f => !patterns[f].test(document.getElementById(f).value.trim()) || !document.getElementById(f).value.trim());
        if (firstInvalid) document.getElementById(firstInvalid).focus();
      }
    });

    // Cookie notice
    if (!localStorage.getItem('bnuts_cookies_accepted')) {
      document.getElementById('cookie-notice').style.display = 'block';
    }
    document.getElementById('cookie-accept').addEventListener('click', () => {
      localStorage.setItem('bnuts_cookies_accepted', 'true');
      document.getElementById('cookie-notice').style.display = 'none';
    });
  </script>
  <script src="js/site.js"></script>

  <!-- Floating WhatsApp Button -->
<a href="https://wa.me/233557774818?text=Hi%20BNUTS,%20I'm%20interested%20in%20joining!" 
   target="_blank"
   style="position: fixed; bottom: 20px; right: 20px; z-index: 1000; display: block; width: 60px; height: 60px;">
  <img src="images/download.png" alt="WhatsApp" style="width:60%; border-radius:50%; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
</a>

</body>
</html>